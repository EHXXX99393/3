<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="UTF-8">
    <title>Personality Type</title>
    <link rel="stylesheet" href="fonts.css">
    <style>
        body {
            margin: 0;
            padding: 0;
            background-image: url('結果背景2.png');
            background-size: cover;
            background-repeat: no-repeat;
            background-attachment: fixed;
        }

        .banner {
            position: relative;
            width: 100%;
            height: 100vh;
            overflow: hidden;
        }

        .background3 {
            position: absolute;
            top: 0;
            left: 0;
            width: 400px; /* 调整背景3的宽度为400px */
            height: 100px; /* 高度占满整个视窗 */
            background-image: url('結果背景3.png');
            background-repeat: no-repeat;
            z-index: 2; /* 将背景3设置为顶图 */
            opacity: 0;
            animation: fadeInBackground3 1.5s ease-out 0.5s forwards;
        }

        .background1 {
            position: absolute;
            bottom: -48%;
            left: 1%;
            width: 100%; /* 调整背景3的宽度为400px */
            height: 400px; /* 高度占满整个视窗 */
            background-image: url('結果背景1.png');
            background-repeat: no-repeat;
            z-index: 2; /* 将背景3设置为顶图 */
            opacity: 0;
            animation: fadeInBackground1 1.5s ease-out 1s forwards;
        }

        .container {
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            position: relative;
            height: 100%;
        }

        .text {
            flex: 1;
            padding: 40px;
            font-family: '新蒂香草體', cursive;
            font-size: 120px;
            opacity: 0;
            animation: fadeInText 0.5s ease-out 1.5s forwards;
        }

        .image {
            flex: 1;
            padding: 20px;
            opacity: 0;
            animation: fadeInImage 0.5s ease-out 2s forwards;
        }

        /* 新增樣式用於名字和您好 */
        .greeting-text {
              font-family: '新蒂香草體', cursive;
            font-size: 45px; /* 調整名字和"您好"的文字大小為45px */
            color: #000000;
            opacity: 0; /* 初始設定歡迎詞不可見 */
            animation: fadeInUp 1.5s forwards 1s; /* 向上淡入動畫，延遲1秒後開始 */
            position: absolute; /* 絕對定位 */
            top: 180px; /* 上方位置 */
            left: 300px; /* 左方位置 */
        }

        @keyframes fadeInBackground3 {
            0% {
                opacity: 0;
            }
            100% {
                opacity: 1;
            }
        }

        @keyframes fadeInBackground1 {
            0% {
                opacity: 0;
            }
            100% {
                opacity: 1;
            }
        }

        @keyframes fadeInText {
            0% {
                opacity: 0;
                transform: translateY(-20px);
            }
            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInImage {
            0% {
                opacity: 0;
            }
            100% {
                opacity: 1;
            }
        }

        @keyframes fadeInUp {
            0% {
                opacity: 0;
                transform: translateY(-20px);
            }
            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* 添加媒体查询以在小屏幕上更改布局 */
        @media screen and (max-width: 768px) {
            .container {
                flex-direction: column; /* 切换为上图下文布局 */
            }

            .text {
        font-size: 60px; /* 调整文本字体大小 */
        margin-top: 280px; /* 将文字向下移动，可以根据需要进行微调 */
         /* 更改文本的顺序，使其在图像之后显示 */
    }

            .greeting-text {
                top: 15%; /* 更新名字和"您好"的位置 */
                left: 3%;
            }

                .image {
        text-align: center; /* 水平居中图片 */
         margin-top: 30px;/* 上边距为60px */
    }

    .image img {
        max-width: 100%; /* 图片宽度最大为父容器的100% */
        height: auto; /* 图片高度自动调整以保持比例 */
        display: block; /* 去掉默认的图像间距 */
        margin: 0 auto; /* 居中图片 */
    }
        }
    </style>
</head>
<body>
    <div class="banner">
        <div class="background3"></div>
        <div class="background1"></div>
        <div class="container">
            <div class="greeting-text">
                <!-- 欢迎词将显示在这里 -->
            </div>
            <div class="text">
                <!-- 结果文本将显示在这里 -->
            </div>
            <div class="image">
                <img src="your-image-url.jpg" alt="Your Image">
            </div>
        </div>
    </div>

    <script>
        // 获取前一页传递的参数
        const urlParams = new URLSearchParams(window.location.search);
        const name = urlParams.get('name');
        const S = parseInt(urlParams.get('S')) || 0;
        const E = parseInt(urlParams.get('E')) || 0;
        const I = parseInt(urlParams.get('I')) || 0;
        const F = parseInt(urlParams.get('F')) || 0;
        const T = parseInt(urlParams.get('T')) || 0;
        const P = parseInt(urlParams.get('P')) || 0;
        const J = parseInt(urlParams.get('J')) || 0;
        const N = parseInt(urlParams.get('N')) || 0;

        // 定义函数来比较两个变量并返回更大的那个的名称
        function getDominantTrait(a, b, aName, bName) {
            if (a > b) {
                return aName;
            } else if (b > a) {
                return bName;
            } else {
                // 如果得分平分，随机选择一个特质
                const random = Math.random();
                return random < 0.5 ? aName : bName;
            }
        }

        // 根据条件生成文本
        const dominantEI = getDominantTrait(E, I, "E", "I");
        const dominantSN = getDominantTrait(S, N, "S", "N");
        const dominantFT = getDominantTrait(F, T, "F", "T");
        const dominantJP = getDominantTrait(J, P, "J", "P");
        const resultComparison = `${dominantEI}${dominantSN}${dominantFT}${dominantJP}`;

        let resultText = `${name}，您是${dominantEI}${dominantSN}${dominantFT}${dominantJP}类型的人`;

        // 根据不同的结果设置文本和图像
        let textToSet = resultText;
        let imageSrc = "your-image-url.jpg"; // 默认图像 URL
        let imageAlt = "Your Image"; // 默认图像替代文本

        switch (resultComparison) {
            case "ISFJ":
                textToSet = "奉獻者";
                imageSrc = "奉獻者型.png";
                imageAlt = "奉獻者型";
                break;
            case "ISTJ":
                textToSet = "守護者";
                imageSrc = "守護者型.png";
                imageAlt = "守護者型";
                break;
            case "ESTJ":
                textToSet = "統御者";
                imageSrc = "統御者型.png";
                imageAlt = "統御者型";
                break;
            case "ESFJ":
                textToSet = "調化者";
                imageSrc = "調化者型.png";
                imageAlt = "調化者型";
                break;
            case "ISTP":
                textToSet = "冒險家";
                imageSrc = "冒險家型.png";
                imageAlt = "冒險家型";
                break;
            case "ISFP":
                textToSet = "逍遙者";
                imageSrc = "逍遙者型.png";
                imageAlt = "逍遙者型";
                break;
            case "ESTP":
                textToSet = "挑戰者";
                imageSrc = "挑戰者型.png";
                imageAlt = "挑戰者型";
                break;
            case "ESFP":
                textToSet = "耀光者";
                imageSrc = "耀光者型.png";
                imageAlt = "耀光者型";
                break;
            case "INFJ":
                textToSet = "文筆仙";
                imageSrc = "文筆仙型.png";
                imageAlt = "文筆仙型";
                break;
            case "INFP":
                textToSet = "調靈者";
                imageSrc = "調靈者型.png";
                imageAlt = "調靈者型";
                break;
            case "ENFJ":
                textToSet = "育化者";
                imageSrc = "育化者型.png";
                imageAlt = "育化者型";
                break;
            case "ENFP":
                textToSet = "夢想家";
                imageSrc = "夢想家型.png";
                imageAlt = "夢想家型";
                break;
            case "INTJ":
                textToSet = "專業者";
                imageSrc = "專業者型.png";
                imageAlt = "專業者型";
                break;
            case "INTP":
                textToSet = "學術家";
                imageSrc = "學術家型.png";
                imageAlt = "學術家型";
                break;
            case "ENTJ":
                textToSet = "決斷者";
                imageSrc = "決斷者型.png";
                imageAlt = "決斷者型";
                break;
            case "ENTP":
                textToSet = "創造者";
                imageSrc = "創造者型.png";
                imageAlt = "創造者型";
                break;
            default:
                break;
        }

        // 设置文本和图像
        const resultDiv = document.querySelector('.text');
        resultDiv.textContent = textToSet;

        const image = document.querySelector('.image img');
        image.src = imageSrc;
        image.alt = imageAlt;

        // 更新名字欢迎文本
        if (name) {
            const greetingText = document.querySelector('.greeting-text'); // 选择已存在的欢迎文本元素
            greetingText.textContent = name + '，您是'; // 更新欢迎文本内容
        }
    </script>
</body>
</html>
